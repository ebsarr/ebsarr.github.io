<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>EbSarr Memos</title>
    <link>https://ebsarr.github.io/index.xml</link>
    <description>Recent content on EbSarr Memos</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 08 Jan 2017 01:29:33 +0900</lastBuildDate>
    <atom:link href="https://ebsarr.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>About</title>
      <link>https://ebsarr.github.io/about/</link>
      <pubDate>Sun, 08 Jan 2017 01:29:33 +0900</pubDate>
      
      <guid>https://ebsarr.github.io/about/</guid>
      <description>&lt;p&gt;Hello Everyone! Thank you all for landing in my blog.
&lt;br&gt;&lt;br&gt;
The idea of creating a blog has been on my mind for a very long time. I&amp;rsquo;ve resisted it for many reasons, but mainly because I&amp;rsquo;m naturally shy, don&amp;rsquo;t like to talk about myself or my opinions, or even what I&amp;rsquo;m thinking, especially when nobody is asking. That is what bloging is about right? Talking about stuffs that people might not even care about. I however would like to get better at writing and expressing myself in general. That is why I decided to create this blog.
&lt;br&gt;&lt;br&gt;
Here is an overview of the things I&amp;rsquo;m intersted in and might write about:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;IT, mainly cloud computing&lt;/li&gt;
&lt;li&gt;Coding: I write code in python, golang and some shell scripting&lt;/li&gt;
&lt;li&gt;Politics, I guess I&amp;rsquo;ll most of the time keep my political opinions to myself&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;From time to time, I might also write about some really unrelated subject, like sports, movies, music, whatever comes to my mind you know&amp;hellip;
&lt;br&gt;&lt;br&gt;
I hope you&amp;rsquo;ll enjoy this blog. Thank you!!!&lt;/p&gt;

&lt;p&gt;- EbSarr&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Introducing the packet go cli</title>
      <link>https://ebsarr.github.io/post/packet-go-cli/</link>
      <pubDate>Sat, 07 Jan 2017 18:51:59 +0900</pubDate>
      
      <guid>https://ebsarr.github.io/post/packet-go-cli/</guid>
      <description>

&lt;h1 id=&#34;packet-a-cli-tool-to-manage-packet-services&#34;&gt;packet, a CLI tool to manage Packet services&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://goreportcard.com/report/github.com/ebsarr/packet&#34;&gt;&lt;img src=&#34;https://goreportcard.com/badge/github.com/ebsarr/packet&#34; alt=&#34;Go Report Card&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;packet is a CLI tool to manage &lt;a href=&#34;https://www.packet.net&#34;&gt;packet.net&lt;/a&gt; services.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;        .--~~~~~~~~~~~~~------.
       /--===============------\\
       | |^^^^^^^^^^^^^^^|     |
       | |               |     |
       | | &amp;gt; packet v2.0 |     |
       | |               |     |
       | |_______________|     |
       |                   ::::|
       &#39;=======================&#39;
       //-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-&amp;quot;-\\\\
      //_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_&amp;quot;_\\\\
      [-------------------------]
      \\_________________________/
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;installation&#34;&gt;Installation&lt;/h1&gt;

&lt;p&gt;Install with &lt;code&gt;go get&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ go get -u github.com/ebsarr/packet
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;packet&lt;/code&gt; executable will be installed in &lt;code&gt;$GOPATH/bin&lt;/code&gt; or &lt;code&gt;$GOBIN&lt;/code&gt;
&lt;br&gt;
&lt;br&gt;
You can also run it in a docker container:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker run -it ebsarr/packet bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Try the help&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet -h
CLI tool to manage packet.net services

Usage:
  packet [flags]
  packet [command]

Available Commands:
  admin           Manage projects, ssh keys, etc...
  baremetal       Manage server devices.
  network         Manage packet network services
  storage         Manage your storages

Flags:
  -k, --key string       API key
  -p, --profile string   Profile name (default &amp;quot;default&amp;quot;)
  -v, --version          Show version and exit

Use &amp;quot;packet [command] --help&amp;quot; for more information about a command.
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;getting-started&#34;&gt;Getting started&lt;/h1&gt;

&lt;h2 id=&#34;configure-your-api-key-by-adding-a-profile&#34;&gt;Configure your API key by adding a profile&lt;/h2&gt;

&lt;p&gt;Command syntax: &lt;code&gt;packet admin add-profile&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin add-profile
Enter your API key [ *****y7wi ]: &amp;lt;APIKEY&amp;gt;
Enter your default project ID [  ]: &amp;lt;Project ID&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This command will add a profile named &amp;ldquo;default&amp;rdquo;.
&lt;br&gt;
&lt;strong&gt;NOTE:&lt;/strong&gt; Without your API key configured, you&amp;rsquo;ll need to specify it in every command in the form: &lt;code&gt;packet --key &amp;lt;APIKEY&amp;gt; &amp;lt;command&amp;gt; &amp;lt;subcommand&amp;gt; &amp;lt;flags&amp;gt;&lt;/code&gt;. You can also optionnaly configure a default project ID.&lt;/p&gt;

&lt;p&gt;If you have multiple accounts, or if you are working on multiple projects, you can set profiles to make it easy to switch between accounts or projects. After setting multiple profiles, you can use &lt;code&gt;-p&lt;/code&gt; or &lt;code&gt;--profile&lt;/code&gt; option to switch between accounts and projects.&lt;/p&gt;

&lt;h3 id=&#34;setting-a-profile&#34;&gt;Setting a profile&lt;/h3&gt;

&lt;p&gt;Here I&amp;rsquo;m creating a new profile named &lt;code&gt;ebsarr&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin add-profile -p ebsarr
Enter your API key [ *****y7wi ]: &amp;lt;APIKEY&amp;gt;
Enter your default project ID [  ]: &amp;lt;Project ID&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Without the &lt;code&gt;-p&lt;/code&gt; switch, the &lt;code&gt;add-profile&lt;/code&gt; command sets up a profile named &amp;ldquo;default&amp;rdquo;. You can view your profiles with the &lt;code&gt;list-profiles&lt;/code&gt; command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin list-profiles
NAME      	APIKEY                          	DEFAULT PROJECT
----      	------                          	---------------
default   	XMiR----------------------------	13935598-d08c-4bd8------------------
ebsarr    	XMiR----------------------------	e30d25da-728d-47fe------------------
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now I can switch easily between projects when running the &lt;code&gt;packet&lt;/code&gt; command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet -p ebsarr baremetal list-devices
[]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Without the &lt;code&gt;-p&lt;/code&gt; option, the default profile will be used:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet baremetal list-devices
[
    {
        &amp;quot;id&amp;quot;: &amp;quot;69148e7c-44e1-4b4a-ac1a-f9e08b552fe8&amp;quot;,
        &amp;quot;href&amp;quot;: &amp;quot;/devices/69148e7c-44e1-4b4a-ac1a-f9e08b552fe8&amp;quot;,
        &amp;quot;hostname&amp;quot;: &amp;quot;ebsarrtest01&amp;quot;,
        &amp;quot;state&amp;quot;: &amp;quot;active&amp;quot;,
        &amp;quot;created_at&amp;quot;: &amp;quot;2016-07-15T07:16:28Z&amp;quot;,
        &amp;quot;updated_at&amp;quot;: &amp;quot;2016-07-15T07:31:27Z&amp;quot;,
        &amp;quot;billing_cycle&amp;quot;: &amp;quot;hourly&amp;quot;,
        &amp;quot;ip_addresses&amp;quot;: [
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;manage-your-projects&#34;&gt;Manage your projects&lt;/h2&gt;

&lt;h3 id=&#34;create-a-new-project&#34;&gt;Create a new project&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin create-project --name &amp;quot;My Brand New Project&amp;quot;
{
    &amp;quot;id&amp;quot;: &amp;quot;52a57c4b-5e28-4f79-9133-f7c953fa0e35&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;My Brand New Project&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-05-29T15:58:27Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-29T15:58:27Z&amp;quot;,
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;view-all-your-projects&#34;&gt;View all your projects&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin list-projects
[
    {
        &amp;quot;id&amp;quot;: &amp;quot;13935598-d08c-4bd8-8281-3196b6379452&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;Demo&amp;quot;,
        &amp;quot;created_at&amp;quot;: &amp;quot;2016-04-27T02:42:12Z&amp;quot;,
        &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-29T15:04:20Z&amp;quot;,
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;view-project-by-id&#34;&gt;View project by ID&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin list-project --project-id 52a57c4b-5e28-4f79-9133-f7c953fa0e35
{
    &amp;quot;id&amp;quot;: &amp;quot;52a57c4b-5e28-4f79-9133-f7c953fa0e35&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;My Brand New Project&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-05-29T15:58:27Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-29T15:58:27Z&amp;quot;,
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;manage-your-devices&#34;&gt;Manage your devices&lt;/h2&gt;

&lt;h3 id=&#34;create-a-new-device&#34;&gt;Create a new device&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ packet baremetal create-device --project-id &amp;lt;Project ID&amp;gt;\
	--billing hourly \
	--facility ewr1\
	--hostname CreatedFromCli\
	--os-type coreos_stable\
	--plan baremetal_0

Provisioning of device successfully started...
 [ 2016-05-29T14:58:19Z ] &amp;quot;%device%&amp;quot; (Type 0) was deployed to project &amp;quot;%project%&amp;quot; by %user%
 [ 2016-05-29T14:59:05Z ] Network configured with addresses 147.75.199.11, 2604:1380:0:7b00::17, and 10.100.131.151
 [ 2016-05-29T14:59:16Z ] Configuration written, restarting device
 [ 2016-05-29T14:59:36Z ] Device connected to DHCP system
 [ 2016-05-29T15:01:54Z ] Installation finished, rebooting server
 [ 2016-05-29T15:02:50Z ] Provision complete! Your device is ready to go.
{
    &amp;quot;id&amp;quot;: &amp;quot;2f027ea7-e5e9-4768-b2ba-fc03f3fa2b88&amp;quot;,
    &amp;quot;href&amp;quot;: &amp;quot;/devices/2f027ea7-e5e9-4768-b2ba-fc03f3fa2b88&amp;quot;,
    &amp;quot;hostname&amp;quot;: &amp;quot;CreatedFromCli&amp;quot;,
    &amp;quot;state&amp;quot;: &amp;quot;active&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-05-29T14:58:19Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-29T15:02:50Z&amp;quot;,
    &amp;quot;billing_cycle&amp;quot;: &amp;quot;hourly&amp;quot;,
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;view-device-by-id&#34;&gt;View device by ID&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ packet baremetal list-device --device-id 2f027ea7-e5e9-4768-b2ba-fc03f3fa2b88
{
    &amp;quot;id&amp;quot;: &amp;quot;2f027ea7-e5e9-4768-b2ba-fc03f3fa2b88&amp;quot;,
    &amp;quot;href&amp;quot;: &amp;quot;/devices/2f027ea7-e5e9-4768-b2ba-fc03f3fa2b88&amp;quot;,
    &amp;quot;hostname&amp;quot;: &amp;quot;CreatedFromCli&amp;quot;,
    &amp;quot;state&amp;quot;: &amp;quot;active&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-05-29T14:58:19Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-29T15:02:50Z&amp;quot;,
    &amp;quot;billing_cycle&amp;quot;: &amp;quot;hourly&amp;quot;,
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;managing-ssh-keys&#34;&gt;Managing SSH keys&lt;/h2&gt;

&lt;h3 id=&#34;create-ssh-key&#34;&gt;Create SSH key&lt;/h3&gt;

&lt;p&gt;First generate the key&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/sarre27/.ssh/id_rsa): ./id_rsa
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Register to packet&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin create-sshkey --label bass2@packet --file id_rsa.pub
{
    &amp;quot;id&amp;quot;: &amp;quot;02b76cb4-ebeb-4eee-8d5d-a6d744aa793b&amp;quot;,
    &amp;quot;label&amp;quot;: &amp;quot;bass2@packet&amp;quot;,
    &amp;quot;key&amp;quot;: &amp;quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDGENCZL3i+rrBZb2sQDt6H2xyziJuNB2ylFOnEywlBNdn0bGvXBFpitpOFmumYU7d0c2i2AYqDP8JgCu1sBiv1hENdMoMe8nmJRR8kjz7q+xWP18R+hYCAgvLEsfhW6fp7xpwK4cYTq07axg0hXSg+Lu8zjcm79EfucXPcNeYLq+27yPI3r8WnglMxfxhz7woBOlAjru6UBoCo+kpXwxA987rHoZEOeBpKGe8OzNt4Vqd8XOEYfwslCbsKBNfMJT0Eh/HeQ6WOOpZMsf3p6ufAocCsP5BeyZsChkuyNeNnPjMQG6chL8GzbMjb463IyiRJHkrM0zQPB+ysIhU5o8CP&amp;quot;,
    &amp;quot;fingerprint&amp;quot;: &amp;quot;f2:ca:e8:ea:dc:bf:a3:67:ad:4c:21:7a:92:bb:ed:ff&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-05-30T05:36:29Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-30T05:36:29Z&amp;quot;,
    &amp;quot;user&amp;quot;: {
        &amp;quot;id&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;href&amp;quot;: &amp;quot;/users/0193dabc-a51d-4190-a01e-b270d664db3a&amp;quot;
    },
    &amp;quot;href&amp;quot;: &amp;quot;/ssh-keys/02b76cb4-ebeb-4eee-8d5d-a6d744aa793b&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;view-registerd-ssh-keys&#34;&gt;View registerd SSH keys&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ packet admin list-sshkeys
[
    {
        &amp;quot;id&amp;quot;: &amp;quot;76dee787-07a7-4510-9760-d27d0c51531e&amp;quot;,
        &amp;quot;label&amp;quot;: &amp;quot;bass2@pckt&amp;quot;,
        &amp;quot;key&amp;quot;: &amp;quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFj5UBo8zP4Uet9xsHn83HG9g7fFeGuSLHcjIWpE/WTLqV76H2DA9PCmmUivYi8f/VMSUpKSET2zC8wrzamepPrWXGqoFsB/I1za8ghcjhzN66und5dOPJzH2C+QihU1aH5cBoaPekb03HSK3qKUa1lCa0nmtdkvWxsspC42zXnf4PqOKkolang7sUe3tj4QvajEFxnWozcOc2Nfukv4q9Ml5vqSePCnYWby1oXWafezzQqThNe0+1DUYYKRe46D11E9wPamQiU6v7edlCSrzD2lpKxWGdtXPNZJYivpUdvCoj38sKuEfATsFZKd/HAiuKVe/o7Mpp3ZccbnLNgV1R&amp;quot;,
        &amp;quot;fingerprint&amp;quot;: &amp;quot;1f:e9:bf:0d:66:10:5f:6c:47:70:0b:70:c0:d5:db:7c&amp;quot;,
        &amp;quot;created_at&amp;quot;: &amp;quot;2016-05-27T10:17:47Z&amp;quot;,
        &amp;quot;updated_at&amp;quot;: &amp;quot;2016-05-27T10:17:47Z&amp;quot;,
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;delete-key-by-id&#34;&gt;Delete key by ID&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ packet admin delete-sshkey --key-id 02b76cb4-ebeb-4eee-8d5d-a6d744aa793b
$ echo $?
0
$ packet admin list-sshkey --key-id 02b76cb4-ebeb-4eee-8d5d-a6d744aa793b
Error: GET https://api.packet.net/ssh-keys/02b76cb4-ebeb-4eee-8d5d-a6d744aa793b: 404 Not found
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;for-more-help&#34;&gt;For more help&lt;/h2&gt;

&lt;p&gt;Type &lt;code&gt;packet -h&lt;/code&gt; in your console.&lt;/p&gt;

&lt;h2 id=&#34;license&#34;&gt;License&lt;/h2&gt;

&lt;p&gt;MIT&lt;/p&gt;

&lt;h2 id=&#34;changelog&#34;&gt;Changelog&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;2.0&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;- Changed command structure, many bugs fixed.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;1.3&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;- Can now delete profiles&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;1.2&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;- Added profile support: use &lt;code&gt;--profile&lt;/code&gt; option to switch between profiles&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;- &lt;code&gt;ssh&lt;/code&gt; command now reads keys from files, use &lt;code&gt;--file&lt;/code&gt; instead of &lt;code&gt;ssh-key&lt;/code&gt; to read from files.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;1.1&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Added support for userdata&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;1.0&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;First version&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>Create a server and mount a block storage device at packet</title>
      <link>https://ebsarr.github.io/post/Create-a-server-and-mount-a-block-storage-device/</link>
      <pubDate>Sun, 27 Nov 2016 19:57:16 +0900</pubDate>
      
      <guid>https://ebsarr.github.io/post/Create-a-server-and-mount-a-block-storage-device/</guid>
      <description>

&lt;h2 id=&#34;goals&#34;&gt;Goals&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Create a server on packet.net&lt;/li&gt;
&lt;li&gt;Create a block storage volume&lt;/li&gt;
&lt;li&gt;Attach the volume to the server with the packet API and tools&lt;/li&gt;
&lt;li&gt;Create a partion and filesystem on the volume&lt;/li&gt;
&lt;li&gt;Mount the volume to the server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This article assumes that you have installed the packet CLI and set a default profile. Refer to &lt;a href=&#34;README.md&#34;&gt;this page&lt;/a&gt; to see how to do it.&lt;/p&gt;

&lt;h2 id=&#34;create-the-server&#34;&gt;Create the server&lt;/h2&gt;

&lt;p&gt;Ubuntu running on a Type 0 server&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet baremetal create-device --facility ewr1 --hostname ebsarrtest01 --os-type ubuntu_16_04_image

Provisioning of device successfully started...
 [ 2016-11-23T15:46:22Z ] &amp;quot;%device%&amp;quot; (Type 0) was deployed to project &amp;quot;%project%&amp;quot; by %user%
 [ 2016-11-23T15:47:11Z ] Network configured with addresses 147.75.197.69, 2604:1380:1:da00::3, and 10.99.176.3
 [ 2016-11-23T15:47:22Z ] Configuration written, restarting device
 [ 2016-11-23T15:47:56Z ] Device connected to DHCP system
 [ 2016-11-23T15:48:49Z ] Server partitions created
 [ 2016-11-23T15:49:10Z ] Operating system packages installed
 [ 2016-11-23T15:49:17Z ] Installation finished, rebooting server
 [ 2016-11-23T15:50:21Z ] Provision complete! Your device is ready to go.

{
    &amp;quot;id&amp;quot;: &amp;quot;058df2b4-a050-4a5d-89c0-e9d704c9a6de&amp;quot;,
    &amp;quot;href&amp;quot;: &amp;quot;/devices/058df2b4-a050-4a5d-89c0-e9d704c9a6de&amp;quot;,
    &amp;quot;hostname&amp;quot;: &amp;quot;ebsarrtest01&amp;quot;,
    &amp;quot;state&amp;quot;: &amp;quot;active&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-11-23T15:46:20Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-11-23T15:50:21Z&amp;quot;,
    &amp;quot;billing_cycle&amp;quot;: &amp;quot;hourly&amp;quot;,
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;First login&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh -i ~/.ssh/packet_rsa root@ebsarrtest01
Welcome to Ubuntu 16.04.1 LTS (GNU/Linux 4.2.0-36-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

root@ebsarrtest01:~# uname -n
ebsarrtest01.local.lan
root@ebsarrtest01:~#
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;create-the-block-storage-volume&#34;&gt;Create the block storage volume&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ packet storage create-volume --facility ewr1 size 80
{
    &amp;quot;id&amp;quot;: &amp;quot;cbb23532-430b-4bf2-b475-a59c5a8aa4be&amp;quot;,
    &amp;quot;name&amp;quot;: &amp;quot;volume-cbb23532&amp;quot;,
    &amp;quot;description&amp;quot;: &amp;quot;&amp;quot;,
    &amp;quot;size&amp;quot;: 120,
    &amp;quot;locked&amp;quot;: false,
    &amp;quot;billing_cycle&amp;quot;: &amp;quot;hourly&amp;quot;,
    &amp;quot;state&amp;quot;: &amp;quot;queued&amp;quot;,
    &amp;quot;created_at&amp;quot;: &amp;quot;2016-11-23T15:56:58Z&amp;quot;,
    &amp;quot;updated_at&amp;quot;: &amp;quot;2016-11-23T15:56:58Z&amp;quot;,
	...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;attach-the-volume-to-the-server&#34;&gt;Attach the volume to the server&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ packet storage attach-volume --volume-id cbb23532-430b-4bf2-b475-a59c5a8aa4be --device-id 058df2b4-a050-4a5d-89c0-e9d704c9a6de
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No error.&lt;/p&gt;

&lt;h2 id=&#34;mounting-our-volume&#34;&gt;Mounting our volume&lt;/h2&gt;

&lt;p&gt;All remaining commands executed in the server.
The first step is to attach the volume with the &lt;code&gt;packet-block-storage-attach&lt;/code&gt; tool. This tool is installed by default on all packet server.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# packet-block-storage-attach
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If the volume was successfully attached, you should see the following message before the command ends&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Block device /dev/mapper/volume-cbb23532 is available for use
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can now make a partition, build the filesystem and mount it.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# fdisk /dev/mapper/volume-cbb23532

Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0xd4612f60.

Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (1-4, default 1):
First sector (2048-251658239, default 2048):
Last sector, +sectors or +size{K,M,G,T,P} (2048-251658239, default 251658239):

Created a new partition 1 of type &#39;Linux&#39; and of size 120 GiB.

Command (m for help): w
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The partition table&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# fdisk /dev/mapper/volume-cbb23532

Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): p
Disk /dev/mapper/volume-cbb23532: 120 GiB, 128849018880 bytes, 251658240 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 1048576 bytes
I/O size (minimum/optimal): 1048576 bytes / 1048576 bytes
Disklabel type: dos
Disk identifier: 0xd4612f60

Device                            Boot Start       End   Sectors  Size Id Type
/dev/mapper/volume-cbb23532-part1       2048 251658239 251656192  120G 83 Linux

Command (m for help): q
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create the filesytem&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# mkfs -t ext4 /dev/mapper/volume-cbb23532-part1
mke2fs 1.42.13 (17-May-2015)
Creating filesystem with 31457024 4k blocks and 7864320 inodes
Filesystem UUID: 31159988-5527-4322-b339-1e2a55e313d1
Superblock backups stored on blocks:
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
	4096000, 7962624, 11239424, 20480000, 23887872

Allocating group tables: done
Writing inode tables: done
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Let&amp;rsquo;s mount it now&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# mkdir /data1
# mount /dev/mapper/volume-cbb23532-part1 /data1
# df
Filesystem                        1K-blocks   Used Available Use% Mounted on
udev                                4070200      0   4070200   0% /dev
tmpfs                                816264   8804    807460   2% /run
/dev/sda3                         113278624 873340 106627928   1% /
tmpfs                               4081312      0   4081312   0% /dev/shm
tmpfs                                  5120      0      5120   0% /run/lock
tmpfs                               4081312      0   4081312   0% /sys/fs/cgroup
/dev/mapper/volume-cbb23532-part1 123722724  60984 117353952   1% /data1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Simple write test&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cd /data1
# pwd
/data1
# cat &amp;gt;first_file
this is a test
# ls -l first_file
-rw-r--r-- 1 root root 15 Nov 23 16:23 first_file
# cat first_file
this is a test
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Looks alright&lt;/p&gt;

&lt;h2 id=&#34;extra-commands-to-detach-the-volume-and-destroy-everything&#34;&gt;Extra: commands to detach the volume and destroy everything.&lt;/h2&gt;

&lt;h3 id=&#34;on-the-server-side&#34;&gt;On the server side&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# umount /data1
# packet-block-storage-detach
# exit
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;go-back-to-packet-cli&#34;&gt;Go back to packet CLI&lt;/h3&gt;

&lt;p&gt;Delete the volume&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet storage detach-volume --attachement-id=b4e80fe0-d46d-4da5-9bc7-a1fec1069cc3
$ packet storage delete-volume --volume-id=cbb23532-430b-4bf2-b475-a59c5a8aa4be
$ packet storage list-volume --volume-id=cbb23532-430b-4bf2-b475-a59c5a8aa4be
Error: GET https://api.packet.net/storage/cbb23532-430b-4bf2-b475-a59c5a8aa4be: 404 Not found
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Delete the server&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ packet baremetal delete-device --device-id=058df2b4-a050-4a5d-89c0-e9d704c9a6de
$ packet baremetal list-device --device-id=058df2b4-a050-4a5d-89c0-e9d704c9a6de
Error: GET https://api.packet.net/devices/058df2b4-a050-4a5d-89c0-e9d704c9a6de?include=facility: 404 Not found
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>